{"directed": true, "multigraph": true, "graph": {}, "nodes": [{"index": 0, "x": 0, "y": 0, "name": "set_value", "text": "Set Hour", "id": 0}, {"index": 1, "x": 1, "y": 0, "name": "get_row_index", "text": "Set data row index", "id": 1}, {"index": 2, "x": 2, "y": 0, "name": "calc_effective_temperature", "text": "Calculate the effective temperature", "id": 2}, {"index": 3, "x": 3, "y": 0, "name": "calc_photoperiod", "text": "Calculate the day length (photoperiod)", "id": 3}, {"index": 4, "x": 4, "y": 0, "name": "height_method_constant", "text": "Use height of primary land cover if height method is constant", "id": 4}, {"index": 5, "x": 5, "y": 0, "name": "<lambda>", "text": "Calculate height of top of each canopy as a fraction of total                     canopy height", "id": 5}, {"index": 6, "x": 6, "y": 0, "name": "LAI_method_estimate_total", "text": "Use primary land cover's estimate of total LAI and spread over\n                        layers and LCs", "id": 6}, {"index": 7, "x": 7, "y": 0, "name": "<lambda>", "text": "get LAI_total as sum of all layers and components", "id": 7}, {"index": 8, "x": 8, "y": 0, "name": "calc_distribution_of_LAI_between_lcs", "text": "Calculate the distribution of LAI between land covers", "id": 8}, {"index": 9, "x": 9, "y": 0, "name": "SAI_wheat_and_LAI", "text": "Calc_SAI_Estimate_total - wheat", "id": 9}, {"index": 10, "x": 10, "y": 0, "name": "<lambda>", "text": "Spread single SAI value to layers and LCs", "id": 10}, {"index": 11, "x": 11, "y": 0, "name": "<lambda>", "text": "get layer SAI_total", "id": 11}, {"index": 12, "x": 12, "y": 0, "name": "<lambda>", "text": "get layer LAI-weighted mean leaf width(Lm_LAI)", "id": 12}, {"index": 13, "x": 13, "y": 0, "name": "calc_PAR_sun_shade_multilayer", "text": "calculate PAR_sun_shade", "id": 13}, {"index": 14, "x": 14, "y": 0, "name": "calc_windspeed_parameters", "text": "Calculate estimated windspeed at canopy", "id": 14}, {"index": 15, "x": 15, "y": 0, "name": "calc_layer_windspeed", "text": "set constant wind speed at each layer", "id": 15}, {"index": 16, "x": 16, "y": 0, "name": "MLMC_sunlit_LAI", "text": "Estimate sunlit LAI fractions (used later in f_light)", "id": 16}, {"index": 17, "x": 17, "y": 0, "name": "PM_soil_moisture_calc", "text": "P-M - soil moisture calc", "id": 17}, {"index": 18, "x": 18, "y": 0, "name": "f_phen_simple_PLF", "text": "f_phen_simple_PLF", "id": 18}, {"index": 19, "x": 19, "y": 0, "name": "leaf_f_phen_PLF", "text": "leaf_f_phen_method - day PLF", "id": 19}, {"index": 20, "x": 20, "y": 0, "name": "calc_f_light_method", "text": "Calculate f_light", "id": 20}, {"index": 21, "x": 21, "y": 0, "name": "calc_f_temp", "text": "f_temp - default", "id": 21}, {"index": 22, "x": 22, "y": 0, "name": "f_VPD_linear", "text": "f_VPD_method - linear", "id": 22}, {"index": 23, "x": 23, "y": 0, "name": "skip", "text": "f_SW method - disabled", "id": 23}, {"index": 24, "x": 24, "y": 0, "name": "<lambda>", "text": "f_O3_method - wheat", "id": 24}, {"index": 25, "x": 25, "y": 0, "name": "set_value", "text": "V_cmax_25 and J_max_25 supplied as constant", "id": 25}, {"index": 26, "x": 26, "y": 0, "name": "set_value", "text": "V_cmax_25 and J_max_25 supplied as hourly inputs", "id": 26}, {"index": 27, "x": 27, "y": 0, "name": "calc_O3_effect_on_V_xmax_25", "text": "Calculate O3 effect on V_cmax_25", "id": 27}, {"index": 28, "x": 28, "y": 0, "name": "calc_leaf_f_phen_effect_on_V_cmax_25", "text": "Calculate gsto phenology effect on V_cmax_25 and J_max_25", "id": 28}, {"index": 29, "x": 29, "y": 0, "name": "calc_D_0", "text": "Calculate the D_0 for photosynthesis", "id": 29}, {"index": 30, "x": 30, "y": 0, "name": "get_td_dd", "text": "Gets the difference between current td and td at season_Astart", "id": 30}, {"index": 31, "x": 31, "y": 0, "name": "calc_g_bv", "text": "Calculate g_bv for photossynthesis", "id": 31}, {"index": 32, "x": 32, "y": 0, "name": "ewert", "text": "", "id": 32}, {"index": 33, "x": 33, "y": 0, "name": "<lambda>", "text": "Convert g_sto from umol to mmol, and from H2O to O3", "id": 33}, {"index": 34, "x": 34, "y": 0, "name": "set_value", "text": "set mean gsto", "id": 34}, {"index": 35, "x": 35, "y": 0, "name": "<lambda>", "text": "Scale mean gsto up to bulk gsto", "id": 35}, {"index": 36, "x": 36, "y": 0, "name": "calc_resistance_model", "text": "Reset and Calculate the resistance model for O3 over the target canopy", "id": 36}, {"index": 37, "x": 37, "y": 0, "name": "calc_deposition_velocity", "text": "Vd calculation duplicated here just for comparison purposes", "id": 37}, {"index": 38, "x": 38, "y": 0, "name": "calc_canopy_ozone_concentration", "text": "Calculate Top Layer Canopy ozone", "id": 38}, {"index": 39, "x": 39, "y": 0, "name": "calc_multi_layer_O3_ozone_concentration", "text": "Calculates Ozone concentration for other layers", "id": 39}, {"index": 40, "x": 40, "y": 0, "name": "calc_leaf_resistance_model", "text": "Reset and setup Leaf Resistance Model", "id": 40}, {"index": 41, "x": 41, "y": 0, "name": "calc_fst_alt", "text": "Calculate the fst for dose calculation", "id": 41}, {"index": 42, "x": 42, "y": 0, "name": "calc_POD", "text": "Calculate the Phytotoxic Ozone Dose", "id": 42}, {"index": 43, "x": 43, "y": 0, "name": "calc_OT", "text": "Calculate the OT accumulation", "id": 43}, {"index": 44, "x": 44, "y": 0, "name": "penman_monteith_reset", "text": "P-M - Reset Values at beginning of day", "id": 44}, {"index": 45, "x": 45, "y": 0, "name": "multi_layer_r_model_to_single_H20", "text": "Adapt multi-layer O3 resistance model to single-layer H2O resistance", "id": 45}, {"index": 46, "x": 46, "y": 0, "name": "calc_Rtotal", "text": "Calculate the total resistance in O3 resistance model", "id": 46}, {"index": 47, "x": 47, "y": 0, "name": "check_soil_evaporation_blocked", "text": "Is soil evaporation blocked?", "id": 47}, {"index": 48, "x": 48, "y": 0, "name": "<lambda>", "text": "Accumulate precipitation", "id": 48}, {"index": 49, "x": 49, "y": 0, "name": "penman_monteith_hourly", "text": "Hourly Penman-Monteith calculations for evaporation and transpiration", "id": 49}, {"index": 50, "x": 50, "y": 0, "name": "penman_monteith_daily", "text": "Daily soil water content update from accumulated                         Penman-Monteith values", "id": 50}, {"index": 51, "x": 51, "y": 0, "name": "<lambda>", "text": "Reset previous state", "id": 51}, {"index": 52, "x": 52, "y": 0, "name": "set_value", "text": "Copy State", "id": 52}, {"index": 53, "x": 53, "y": 0, "name": "merge_logs", "text": "Logging Values", "id": 53}], "links": [{"source": 0, "target": 1, "name": "state.temporal.hr", "key": 0}, {"source": 1, "target": 53, "name": "state.temporal.row_index", "key": 0}, {"source": 4, "target": 14, "name": "state.canopy.canopy_height", "key": 0}, {"source": 4, "target": 15, "name": "state.canopy.canopy_height", "key": 0}, {"source": 4, "target": 36, "name": "state.canopy.canopy_height", "key": 0}, {"source": 4, "target": 38, "name": "state.canopy.canopy_height", "key": 0}, {"source": 7, "target": 20, "name": "state.canopy.LAI_total", "key": 0}, {"source": 7, "target": 45, "name": "state.canopy.LAI_total", "key": 0}, {"source": 7, "target": 49, "name": "state.canopy.LAI_total", "key": 0}, {"source": 7, "target": 50, "name": "state.canopy.LAI_total", "key": 0}, {"source": 11, "target": 15, "name": "state.canopy.SAI_total", "key": 0}, {"source": 11, "target": 45, "name": "state.canopy.SAI_total", "key": 0}, {"source": 12, "target": 15, "name": "state.canopy.Lm_LAI", "key": 0}, {"source": 14, "target": 36, "name": "state.met.ustar", "key": 0}, {"source": 14, "target": 38, "name": "state.met.u_50", "key": 0}, {"source": 14, "target": 45, "name": "state.met.ustar", "key": 0}, {"source": 17, "target": 47, "name": "state.canopy.SMD.SWP", "key": 0}, {"source": 17, "target": 47, "name": "state.canopy.SMD.ASW", "key": 1}, {"source": 17, "target": 50, "name": "state.canopy.SMD.ASW", "key": 0}, {"source": 17, "target": 50, "name": "state.canopy.SMD.SMD", "key": 1}, {"source": 17, "target": 50, "name": "state.canopy.SMD.SMD", "key": 2}, {"source": 36, "target": 45, "name": "state.canopy.rmodel_O3", "key": 0}, {"source": 38, "target": 37, "name": "state.canopy.rmodel_O3.Ra_c", "key": 0}, {"source": 38, "target": 39, "name": "state.canopy.rmodel_O3.Ra", "key": 0}, {"source": 47, "target": 49, "name": "state.canopy.Es_blocked", "key": 0}, {"source": 48, "target": 48, "name": "state.canopy.PM.precip_acc", "key": 0}, {"source": 48, "target": 50, "name": "state.canopy.PM.precip_acc", "key": 0}, {"source": 49, "target": 49, "name": "state.canopy.PM.Ei_acc", "key": 0}, {"source": 49, "target": 49, "name": "state.canopy.PM.Et_acc", "key": 1}, {"source": 49, "target": 49, "name": "state.canopy.PM.Es_acc", "key": 2}, {"source": 49, "target": 49, "name": "state.canopy.PM.Eat_acc", "key": 3}, {"source": 49, "target": 50, "name": "state.canopy.PM.Ei_acc", "key": 0}, {"source": 49, "target": 50, "name": "state.canopy.PM.Eat_acc", "key": 1}, {"source": 50, "target": 50, "name": "state.canopy.PM.run_off_acc", "key": 0}, {"source": 50, "target": 50, "name": "state.canopy.PM.percolated_acc", "key": 1}]}
